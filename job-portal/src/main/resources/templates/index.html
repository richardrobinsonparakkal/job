<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Job Portal</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
</head>
<body>
  <h1>Job Portal</h1>
  <p><a href="/jobs/new">Post New Job</a></p>

  <h2>Open Jobs</h2>
  <table>
    <thead><tr><th>Title</th><th>Location</th><th>Closing</th><th>Action</th></tr></thead>
    <tbody>
      <tr th:each="job : ${jobs}">
        <td th:text="${job.title}">Title</td>
        <td th:text="${job.location}">Location</td>
        <td th:text="${job.closingDate}">Closing</td>
        <td>
          <a th:href="@{'/apply/' + ${job.id}}">Apply</a> |
          <a th:href="@{'/jobs/delete/' + ${job.id}}">Delete</a>
        </td>
      </tr>
    </tbody>
  </table>

  <h2>Applications</h2>
  <table>
    <thead><tr><th>Applicant</th><th>Job</th><th>Status</th><th>Applied On</th></tr></thead>
    <tbody>
      <tr th:each="app : ${applications}">
        <td th:text="${app.applicant.name}">Applicant</td>
        <td th:text="${app.job.title}">Job</td>
        <td th:text="${app.status}">Status</td>
        <td th:text="${app.appliedOn}">Date</td>
      </tr>
    </tbody>
  </table>
</body>
</html>
